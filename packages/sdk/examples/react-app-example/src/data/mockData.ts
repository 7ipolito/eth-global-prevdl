import { Ad, Location, Profession, Interest, Gender, UserProfile } from '../types';

export const mockAds: Ad[] = [
  {
    id: '1',
    title: 'Bootcamp Fullstack - First Class',
    description: 'Learn web development from scratch in 12 weeks. Job guarantee or your money back!',
    ctaUrl: 'https://example.com/bootcamp',
    ctaText: 'Sign Up Now',
    targetAgeMin: 18,
    targetAgeMax: 28,
    targetLocation: Location.SAO_PAULO,
    targetProfession: Profession.SOFTWARE_ENGINEER,
    targetInterest: Interest.TECH,
    rankingScore: 2.8,
  },
  {
    id: '2',
    title: 'Crypto for Beginners - Free Course',
    description: 'Discover how to invest in Bitcoin and Ethereum safely. Live classes every week.',
    ctaUrl: 'https://example.com/crypto-young',
    ctaText: 'Start Now',
    targetAgeMin: 20,
    targetAgeMax: 30,
    targetLocation: Location.SAO_PAULO,
    targetProfession: Profession.SOFTWARE_ENGINEER,
    targetInterest: Interest.CRYPTO,
    rankingScore: 2.5,
  },
  {
    id: '3',
    title: 'Backpacking South America',
    description: 'Complete package for 3 months traveling through 8 countries. Hostels and transportation included.',
    ctaUrl: 'https://example.com/backpack',
    ctaText: 'View Itinerary',
    targetAgeMin: 20,
    targetAgeMax: 28,
    targetLocation: Location.SAO_PAULO,
    targetProfession: Profession.SOFTWARE_ENGINEER,
    targetInterest: Interest.TRAVEL,
    rankingScore: 2.3,
  },
  {
    id: '4',
    title: 'Complete Gaming Setup - 30% OFF',
    description: 'Build your professional gaming setup with PC, 144Hz monitor, mechanical keyboard and mouse. Installments in 12x interest-free.',
    ctaUrl: 'https://example.com/gaming',
    ctaText: 'Build Setup',
    targetAgeMin: 18,
    targetAgeMax: 25,
    targetLocation: Location.SAO_PAULO,
    targetProfession: Profession.SOFTWARE_ENGINEER,
    targetInterest: Interest.GAMING,
    rankingScore: 2.2,
  },
  {
    id: '5',
    title: 'Smart Retirement Planning',
    description: 'Personalized financial consulting to ensure a peaceful retirement. First consultation free.',
    ctaUrl: 'https://example.com/retirement',
    ctaText: 'Schedule Consultation',
    targetAgeMin: 40,
    targetAgeMax: 55,
    targetLocation: Location.SAO_PAULO,
    targetProfession: Profession.SOFTWARE_ENGINEER,
    targetInterest: Interest.CRYPTO,
    rankingScore: 2.7,
  },
  {
    id: '6',
    title: 'Executive Cruise - Premium Caribbean',
    description: 'All-inclusive 15-day trip to the best Caribbean destinations. Luxury cabins and international cuisine.',
    ctaUrl: 'https://example.com/cruise',
    ctaText: 'View Packages',
    targetAgeMin: 40,
    targetAgeMax: 60,
    targetLocation: Location.SAO_PAULO,
    targetProfession: Profession.SOFTWARE_ENGINEER,
    targetInterest: Interest.TRAVEL,
    rankingScore: 2.6,
  },
  {
    id: '7',
    title: 'MBA in IT Management - Evening',
    description: 'Specialize in leadership and technology team management. Classes 2x per week, MEC-recognized certificate.',
    ctaUrl: 'https://example.com/mba',
    ctaText: 'Learn More',
    targetAgeMin: 35,
    targetAgeMax: 50,
    targetLocation: Location.SAO_PAULO,
    targetProfession: Profession.SOFTWARE_ENGINEER,
    targetInterest: Interest.TECH,
    rankingScore: 2.4,
  },
  {
    id: '8',
    title: 'Fixed Income Investments - Low Risk',
    description: 'Diversify your portfolio with CDBs, LCIs and Treasury Direct. Returns above savings with security.',
    ctaUrl: 'https://example.com/investments',
    ctaText: 'Start Investing',
    targetAgeMin: 38,
    targetAgeMax: 55,
    targetLocation: Location.SAO_PAULO,
    targetProfession: Profession.SOFTWARE_ENGINEER,
    targetInterest: Interest.CRYPTO,
    rankingScore: 2.3,
  },
  {
    id: '9',
    title: 'Advanced React Course',
    description: 'Master React, Next.js and TypeScript. Learn software architecture and best practices with real projects.',
    ctaUrl: 'https://example.com/react',
    ctaText: 'Sign Up',
    targetAgeMin: 25,
    targetAgeMax: 40,
    targetLocation: Location.SAO_PAULO,
    targetProfession: Profession.SOFTWARE_ENGINEER,
    targetInterest: Interest.TECH,
    rankingScore: 2.5,
  },
  {
    id: '10',
    title: 'Family Trip - Disney Orlando',
    description: 'Complete package for 7 days in Orlando. Tickets for all parks, hotel and transfers included.',
    ctaUrl: 'https://example.com/disney',
    ctaText: 'View Offers',
    targetAgeMin: 30,
    targetAgeMax: 45,
    targetLocation: Location.SAO_PAULO,
    targetProfession: Profession.SOFTWARE_ENGINEER,
    targetInterest: Interest.TRAVEL,
    rankingScore: 2.1,
  },
];

export const mockUserProfiles: UserProfile[] = [
  {
    id: '1',
    age: 28,
    location: Location.SAO_PAULO,
    profession: Profession.SOFTWARE_ENGINEER,
    interests: [Interest.TECH, Interest.CRYPTO, Interest.TRAVEL, Interest.GAMING],
    gender: Gender.MALE,
  },
  {
    id: '2',
    age: 35,
    location: Location.SAO_PAULO,
    profession: Profession.DESIGNER,
    interests: [Interest.FASHION, Interest.TRAVEL],
    gender: Gender.FEMALE,
  },
  {
    id: '3',
    age: 22,
    location: Location.RIO_DE_JANEIRO,
    profession: Profession.SOFTWARE_ENGINEER,
    interests: [Interest.TECH, Interest.GAMING],
    gender: Gender.MALE,
  },
  {
    id: '4',
    age: 45,
    location: Location.SAO_PAULO,
    profession: Profession.PRODUCT_MANAGER,
    interests: [Interest.CRYPTO, Interest.TECH],
    gender: Gender.MALE,
  },
  {
    id: '5',
    age: 30,
    location: Location.BRASILIA,
    profession: Profession.SOFTWARE_ENGINEER,
    interests: [Interest.TECH, Interest.TRAVEL, Interest.SPORTS],
    gender: Gender.FEMALE,
  },
];

export function getMatchingAds(userProfile: UserProfile, ads: Ad[]): Ad[] {
  return ads.filter(ad => {
    const ageMatch = userProfile.age >= ad.targetAgeMin && userProfile.age <= ad.targetAgeMax;
    const locationMatch = userProfile.location === ad.targetLocation;
    const professionMatch = userProfile.profession === ad.targetProfession;
    const interestMatch = userProfile.interests.includes(ad.targetInterest);
    
    return ageMatch && locationMatch && professionMatch && interestMatch;
  }).sort((a, b) => b.rankingScore - a.rankingScore);
}

